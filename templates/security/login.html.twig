{% extends 'base.html.twig' %}

{% block title %}
	{{parent()}} | Connexion
{% endblock %}

{% block body %}
<!-- Start Formulaire -->
<section id="contact" class="p-top-50 p-bottom-30">
		<div class="container">
				<div class="section-title text-center m-bottom-50">
						<h2 class="wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.6s">Connexion</h2>
						<div class="divider-center-small wow zoomIn" data-wow-duration="1s" data-wow-delay="0.6s"></div>
						<p class="section-subtitle wow fadeInUp" data-wow-duration="1s" data-wow-delay="0.6s">
              Attention ! Cette partie est uniquement réservée à certains membres de l'association. Merci de rebrousser chemin si vous êtes tombés par hasard sur cette page !
              <br>
              {% if app.user %}
                  Vous êtes déjà connecté en tant que {{ app.user }}. <a href="{{ path('app_logout') }}">Se déconnecter</a>.
              {% else %}
                  Sinon, merci de vous connecter.
              {% endif %}
            </p>
				</div>
        <row>
						<!-- === Contact Form === -->
						<div class="col-md-12 col-sm-12 p-bottom-30">
								<div class="contact-form row">
										<form name="ajax-form" id="ajax-form" method="post">
                      {% if error %}
                          <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                      {% endif %}
												<div class="col-sm-6 contact-form-item wow zoomIn">
														<input type="text" value="{{ last_username }}" name="username" id="inputUsername" autocomplete="username" required autofocus>
														<span class="error" id="err-name">Merci de saisir votre identifiant !</span>
												</div>
												<div class="col-sm-6 contact-form-item wow zoomIn">
														<input type="password" name="password" id="inputPassword"  autocomplete="current-password" required>
														<span class="error" id="err-email">Merci de saisir votre mot de passe !</span>
												</div>
                        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
												<div class="col-sm-12 contact-form-item">
														<button class="send_message btn btn-main btn-theme wow fadeInUp" id="send" data-lang="en">Envoyer</button>
												</div>
												<div class="clear"></div>
												<div class="error text-align-center" id="err-form">Il y a eu un problème avec la validation du formulaire !</div>
												<div class="error text-align-center" id="err-timedout">La connexion avec le serveur a échoué !</div>
												<div class="error" id="err-state"></div>
										</form>

								</div>
						</div>
        </row>
				</div>
		</div>
</section>
<!-- End Formulaire -->
{% endblock %}

{% block js %}
	{{parent()}}
{% endblock %}
